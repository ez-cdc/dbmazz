# =============================================================================
# dbmazz CDC Daemon — Environment Variables
# =============================================================================
# Copy to .env and fill in your values:  cp .env.example .env
#
# When built with --features http-api, these variables are OPTIONAL:
#   - If set: dbmazz auto-starts replication on boot
#   - If not set: dbmazz starts in setup mode — configure from the browser at :8080
#
# Not needed for quickstart mode (defaults point to docker containers):
#   docker compose -f docker-compose.production.yml --profile quickstart up -d

# PostgreSQL source (requires ?replication=database for logical replication)
SOURCE_URL=postgres://user:pass@localhost:5432/mydb?replication=database
SOURCE_SLOT_NAME=dbmazz_slot
SOURCE_PUBLICATION_NAME=dbmazz_pub

# Tables to replicate (comma-separated)
TABLES=orders,order_items

# StarRocks sink
SINK_URL=http://localhost:8030
SINK_PORT=9030
SINK_DATABASE=mydb
SINK_USER=root
SINK_PASSWORD=

# Batching
FLUSH_SIZE=2000
FLUSH_INTERVAL_MS=2000

# gRPC server port
GRPC_PORT=50051

# HTTP API port (only when built with --features http-api)
HTTP_API_PORT=8080

# Logging
RUST_LOG=info
